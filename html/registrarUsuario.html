<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Usuário</title>
    <link rel="stylesheet" href="/css/auth.css">
</head>
<body>
    <form id="cadastro" action="/registrar-usuario" method="post" onsubmit="sendForms(event)" class="center box">
        <label class="title">Novo Usuário</label>

        <label for="nome">Nome:</label>
        <input name="nome" placeholder="Seu nome de perfil." required>

        <label for="email">Email:</label>
        <input name="email" type="email" placeholder="exemplo@gmail.com" required>

        <label for="telefone">Telefone:</label>
        <input name="telefone" type="tel" placeholder="00900000000" pattern="[0-9]{11}">

        <label for="senha">Senha:</label>
        <input id="senha" name="senha" type="password" placeholder="Insira uma senha" required>

        <label for="confirma">Confirma Senha:</label>
        <input id="confirma" name="confirma" type="password" placeholder="Confirme sua senha" required>
        
        <input type="submit" value="Registrar"> <br>
        <a href="/">Entre por aqui</a>
    </form>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const error = Number(urlParams.get('e'));

        if (error == 1) {
            alert('Email já cadastrado!')
        }

        function sendForms(event) {
            event.preventDefault();

            const senha = document.getElementById('senha').value;
            const confirma = document.getElementById('confirma').value;

            if (senha != confirma) {
                alert('As senhas não coincidem.')
            } else {
                document.getElementById('cadastro').submit();
            }
        }
    </script>
</body>
</html>